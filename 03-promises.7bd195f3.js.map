{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,SAAU,aACVC,SAAU,OACVC,SAAS,IAGX,MAAMC,EAAUC,SAASC,cAAc,SACjCC,EAAYF,SAASG,qBAAqB,SAC1CC,EAAgBJ,SAASG,qBAAqB,UAC9CE,EAAgBL,SAASM,kBAAkB,SAC3CC,EAAeP,SAASM,kBAAkB,QAC1CE,EAAiBR,SAASM,kBAAkB,WAGhDG,UAAUC,MAAEC,EAAKC,KAAEC,EAAIC,OAAEC,IACvBhB,EAEJA,EAAQiB,MAAMC,QAAU,OACxBlB,EAAQiB,MAAME,cAAgB,SAC9BnB,EAAQiB,MAAMG,WAAa,aAE3B,IAAK,MAAMC,KAASlB,EAClBkB,EAAMJ,MAAMC,QAAU,OACtBG,EAAMJ,MAAME,cAAgB,SAC5BE,EAAMJ,MAAMG,WAAa,aACzBC,EAAMJ,MAAMK,aAAe,OAC3BD,EAAMJ,MAAMM,WAAa,MAG3BlB,EAAc,GAAGY,MAAMnB,SAAW,OAClCO,EAAc,GAAGY,MAAMM,WAAa,MACpClB,EAAc,GAAGY,MAAMO,MAAQ,QAC/BnB,EAAc,GAAGoB,aAAa,YAAY,GAE1CnB,EAAc,GAAGW,MAAMO,MAAQ,QAC/BhB,EAAa,GAAGS,MAAMO,MAAQ,QAC9Bf,EAAe,GAAGQ,MAAMO,MAAQ,QAEhC,MAAME,EAAY,CAAC7B,EAAU8B,KAC3BjC,EAAAF,GAASG,OAAOiC,QAAQ,uBAAqB/B,QAAiB8B,MAAU,EAGpEE,EAAW,CAAChC,EAAUiC,KAC1BpC,EAAAF,GAASG,OAAOoC,QAAQ,sBAAoBlC,QAAeiC,MAAU,EAGvE,SAASE,EAAcnC,EAAUoC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACT,MAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAM,C,SAAE5C,EAAUc,MAAAsB,GAEpBK,EAEFH,EAAQM,GAGRL,EAAOK,EAAI,GAEZR,EAAM,G,CAoBb,SAASS,IAEW,KAAhB9B,EAAM+B,OAA+B,KAAf7B,EAAK6B,OAAiC,KAAjB3B,EAAO2B,MAGhDtC,EAAc,GAAGoB,aAAa,YAAY,GAC1CpB,EAAc,GAAGuC,gBAAgB,W,CAtBvC5C,EAAQ6C,iBAAiB,UAAUC,IACjCA,EAAMC,iBAEN,IAAIC,EAAaC,OAAOrC,EAAM+B,OAC9B,MAAMO,EAAYD,OAAOnC,EAAK6B,OACxBQ,EAAcF,OAAOjC,EAAO2B,OAElC,IAAK,IAAI9C,EAAW,EAAGA,GAAYsD,EAAatD,GAAY,EAC1DmC,EAAcnC,EAAUmD,GACrBI,MAAKC,GAAO3B,EAAU2B,EAAIxD,SAAUwD,EAAI1C,SACxC2C,OAAMC,GAAS1B,EAAS0B,EAAM1D,SAAU0D,EAAM5C,SAEjDqC,GAAcE,C,IAalB5C,EAAc,GAAGuC,iBAAiB,SAAS,KACzCH,GAAiB,IAGnBlC,EAAa,GAAGqC,iBAAiB,SAAS,KACxCH,GAAiB,IAGnBjC,EAAe,GAAGoC,iBAAiB,SAAS,KAC1CH,GAAiB","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  position: 'center-top',\n  fontSize: '16px',\n  useIcon: false,\n});\n\nconst formRef = document.querySelector('.form');\nconst labelsRef = document.getElementsByTagName('label');\nconst btnSubmitsRef = document.getElementsByTagName('button');\nconst inputDelayRef = document.getElementsByName('delay');\nconst inputStepRef = document.getElementsByName('step');\nconst inputAmountRef = document.getElementsByName('amount');\n\nconst {\n  elements: { delay, step, amount },\n} = formRef;\n\nformRef.style.display = 'flex';\nformRef.style.flexDirection = 'column';\nformRef.style.alignItems = 'flex-start';\n\nfor (const label of labelsRef) {\n  label.style.display = 'flex';\n  label.style.flexDirection = 'column';\n  label.style.alignItems = 'flex-start';\n  label.style.marginBottom = '15px';\n  label.style.fontWeight = '600';\n}\n\nbtnSubmitsRef[0].style.fontSize = '1rem';\nbtnSubmitsRef[0].style.fontWeight = '600';\nbtnSubmitsRef[0].style.width = '235px';\nbtnSubmitsRef[0].setAttribute('disabled', true);\n\ninputDelayRef[0].style.width = '235px';\ninputStepRef[0].style.width = '235px';\ninputAmountRef[0].style.width = '235px';\n\nconst onSuccess = (position, delay) => {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n};\n\nconst onReject = (position, delay) => {\n  Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n};\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      const obj = { position, delay };\n\n      if (shouldResolve) {\n        // Fulfill\n        resolve(obj);\n      } else {\n        // Reject\n        reject(obj);\n      }\n    }, delay);\n  });\n}\n\nformRef.addEventListener('submit', event => {\n  event.preventDefault();\n\n  let delayValue = Number(delay.value);\n  const stepValue = Number(step.value);\n  const amountValue = Number(amount.value);\n\n  for (let position = 1; position <= amountValue; position += 1) {\n    createPromise(position, delayValue)\n      .then(res => onSuccess(res.position, res.delay))\n      .catch(error => onReject(error.position, error.delay));\n\n    delayValue += stepValue;\n  }\n});\n\nfunction verifyAllInputs() {\n  const someEmpty =\n    delay.value === '' || step.value === '' || amount.value === '';\n\n  someEmpty\n    ? btnSubmitsRef[0].setAttribute('disabled', true)\n    : btnSubmitsRef[0].removeAttribute('disabled');\n}\n\ninputDelayRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});\n\ninputStepRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});\n\ninputAmountRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});\n"],"names":["$eWCmQ","parcelRequire","$parcel$interopDefault","Notify","init","position","fontSize","useIcon","$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$labelsRef","getElementsByTagName","$47d4ff9957288465$var$btnSubmitsRef","$47d4ff9957288465$var$inputDelayRef","getElementsByName","$47d4ff9957288465$var$inputStepRef","$47d4ff9957288465$var$inputAmountRef","elements","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","style","display","flexDirection","alignItems","label","marginBottom","fontWeight","width","setAttribute","$47d4ff9957288465$var$onSuccess","delay1","success","$47d4ff9957288465$var$onReject","delay2","failure","$47d4ff9957288465$var$createPromise","delay3","Promise","resolve","reject","setTimeout","shouldResolve","Math","random","obj","$47d4ff9957288465$var$verifyAllInputs","value","removeAttribute","addEventListener","event","preventDefault","delayValue","Number","stepValue","amountValue","then","res","catch","error"],"version":3,"file":"03-promises.7bd195f3.js.map"}